<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8" />
  <title>Ajout Notion</title>
  <script>
    // Fonction appelée une fois que le DOM est chargé
    window.addEventListener('DOMContentLoaded', () => {
      // Pré-remplissage à partir de l'URL
      const params = new URLSearchParams(window.location.search);
      for (const [key, value] of params.entries()) {
        const input = document.querySelector(`[name="${key}"]`);
        if (input) input.value = value;
      }
    });
  </script>
</head>
<body>
  <h1>Ajouter une annonce</h1>
  <form id="notion-form" action="https://script.google.com/macros/s/AKfycbzmtBx02TNcvI3p43XvNryd8y9THSEqqeOZ6tLIS5VcHKfhTIi7I-Lxqf6b5hWRNvKQ7w/exec" method="post">
    <input name="titre" placeholder="Titre de l'annonce" required><br>
    <input name="localisation" placeholder="Commune"><br>
    <input name="surface" type="number" placeholder="Surface en m²"><br>
    <input name="prix" type="number" placeholder="Prix"><br>
    <input name="image_url" placeholder="URL image"><br>
    <input name="url" placeholder="Lien de l’annonce"><br>
    <input name="tags" placeholder="Tags (séparés par des virgules)"><br>
    <textarea name="commentaire" placeholder="Commentaire"></textarea><br>
    <button type="submit">Envoyer</button>
  </form>
</body>
</html>
